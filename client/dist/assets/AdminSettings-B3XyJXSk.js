import{_ as y,r as o,o as k,c as d,a,v as x,g as w,x as i,y as r,n as S,t as g,J as b,k as m}from"./index-DY9xsVSO.js";const U={class:"admin-settings"},V={key:0,class:"loading-state"},M={key:1,class:"settings-form card"},A={class:"card-body"},z={class:"setting-group"},B={class:"mb-3"},P={class:"mb-3"},D={class:"setting-group"},N={class:"row"},T={class:"col-md-6 mb-3"},C={class:"col-md-6 mb-3"},I={class:"setting-group"},J={class:"mb-3"},j=["disabled"],E={__name:"AdminSettings",setup(F){const e=o({}),p=o(!0),u=o(!1),n=o(""),v=o(!1),c=async()=>{p.value=!0;try{const s=(await b.getSettings()).data.data||{};e.value={};for(const[l,_]of Object.entries(s))e.value[l]=_.value}catch(t){console.error(t)}finally{p.value=!1}},f=async()=>{var t,s;u.value=!0,n.value="";try{await b.updateSettings(e.value),v.value=!0,n.value="Pengaturan berhasil disimpan!"}catch(l){v.value=!1,n.value=((s=(t=l.response)==null?void 0:t.data)==null?void 0:s.message)||"Gagal menyimpan pengaturan"}finally{u.value=!1}};return k(c),(t,s)=>(m(),d("div",U,[s[14]||(s[14]=a("h1",{class:"page-title"},"Pengaturan Aplikasi",-1)),p.value?(m(),d("div",V,[...s[5]||(s[5]=[a("div",{class:"spinner-border text-primary"},null,-1)])])):(m(),d("div",M,[a("div",A,[a("form",{onSubmit:x(f,["prevent"])},[a("div",z,[s[8]||(s[8]=a("h3",null,"Umum",-1)),a("div",B,[s[6]||(s[6]=a("label",{class:"form-label"},"Nama Aplikasi",-1)),i(a("input",{type:"text",class:"form-control","onUpdate:modelValue":s[0]||(s[0]=l=>e.value.app_name=l)},null,512),[[r,e.value.app_name]])]),a("div",P,[s[7]||(s[7]=a("label",{class:"form-label"},"Tagline",-1)),i(a("input",{type:"text",class:"form-control","onUpdate:modelValue":s[1]||(s[1]=l=>e.value.app_tagline=l)},null,512),[[r,e.value.app_tagline]])])]),a("div",D,[s[11]||(s[11]=a("h3",null,"Upload",-1)),a("div",N,[a("div",T,[s[9]||(s[9]=a("label",{class:"form-label"},"Maksimal Ukuran Upload (MB)",-1)),i(a("input",{type:"number",class:"form-control","onUpdate:modelValue":s[2]||(s[2]=l=>e.value.max_upload_size_mb=l)},null,512),[[r,e.value.max_upload_size_mb]])]),a("div",C,[s[10]||(s[10]=a("label",{class:"form-label"},"Format yang Diizinkan",-1)),i(a("input",{type:"text",class:"form-control","onUpdate:modelValue":s[3]||(s[3]=l=>e.value.allowed_formats=l),placeholder:"mp4,mkv,webm"},null,512),[[r,e.value.allowed_formats]])])])]),a("div",I,[s[13]||(s[13]=a("h3",null,"Tampilan",-1)),a("div",J,[s[12]||(s[12]=a("label",{class:"form-label"},"Jumlah Lagu per Halaman",-1)),i(a("input",{type:"number",class:"form-control","onUpdate:modelValue":s[4]||(s[4]=l=>e.value.songs_per_page=l),style:{"max-width":"150px"}},null,512),[[r,e.value.songs_per_page]])])]),n.value?(m(),d("div",{key:0,class:S(["alert",v.value?"alert-success":"alert-danger"])},g(n.value),3)):w("",!0),a("button",{type:"submit",class:"btn btn-primary",disabled:u.value},g(u.value?"Menyimpan...":"Simpan Pengaturan"),9,j)],32)])]))]))}},H=y(E,[["__scopeId","data-v-2c2968b1"]]);export{H as default};
