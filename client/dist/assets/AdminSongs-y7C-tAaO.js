import{_ as Ft,r as d,c as H,y as j,o as Vt,N as It,a as s,d as t,i as p,e as nt,t as n,f as v,F as h,k,n as w,b as _t,B as b,D as W,C,w as ot,m as dt,T as ut,s as yt,O as M,v as i}from"./index-Btw_uZyE.js";const Mt={class:"admin-songs"},Nt={class:"page-header reveal",style:{"--d":"0ms"}},At={class:"page-header__copy"},Rt={class:"page-meta text-muted"},Et={class:"page-header__actions"},$t=["disabled"],Bt={key:0,class:"alert-card alert-card--danger reveal",style:{"--d":"60ms"},role:"status"},Gt={class:"alert-body"},Ht={class:"alert-text text-muted"},jt={class:"stats-grid reveal",style:{"--d":"90ms"},"aria-label":"Ringkasan lagu"},Wt={class:"stat-icon","aria-hidden":"true"},Kt={class:"stat-body"},zt={class:"stat-label"},Ot={class:"stat-value"},qt={key:0,class:"stat-hint text-muted"},Jt=["onClick"],Qt={class:"panel filters-panel reveal",style:{"--d":"120ms"},"aria-label":"Filter lagu"},Xt={class:"panel-body"},Yt={class:"filters-row"},Zt={class:"field field--small"},tl=["disabled"],ll={class:"field field--small"},el=["disabled"],al=["value"],sl={class:"field field--small"},il=["disabled"],nl=["value"],ol={class:"field field--grow"},dl={class:"search-control"},ul={class:"field field--xs"},rl=["disabled"],vl={class:"panel songs-panel reveal",style:{"--d":"150ms"},"aria-label":"Daftar lagu"},cl={class:"panel-header"},bl={class:"panel-title"},ml={class:"panel-title__copy"},pl={class:"text-muted"},gl={class:"panel-actions"},fl=["disabled"],hl={class:"panel-body"},_l={class:"table-wrap","aria-label":"Tabel lagu"},yl={class:"songs-table"},kl={class:"td-song"},wl={class:"song-cell"},Sl={class:"song-thumb","aria-hidden":"true"},xl=["src"],Cl={key:1,class:"thumb-fallback"},Tl={class:"song-info"},Ll=["title"],Pl={class:"song-sub text-muted"},Ul=["title"],Dl={class:"song-id text-muted"},Fl={class:"pill pill--soft"},Vl={class:"pill pill--soft"},Il={class:"td-play"},Ml={class:"pill"},Nl={class:"td-actions"},Al={class:"row-actions"},Rl=["onClick"],El=["onClick"],$l={key:0,class:"tr-empty"},Bl={class:"song-cards","aria-label":"Daftar lagu (mobile)"},Gl={class:"song-card__top"},Hl={class:"song-card__left"},jl={class:"song-thumb song-thumb--sm","aria-hidden":"true"},Wl=["src"],Kl={key:1,class:"thumb-fallback"},zl={class:"song-card__copy"},Ol=["title"],ql={class:"song-sub text-muted"},Jl=["title"],Ql={class:"song-id text-muted"},Xl={class:"song-card__meta"},Yl={class:"pill pill--soft"},Zl={class:"pill pill--soft"},te={class:"pill"},le={class:"song-card__actions"},ee=["onClick"],ae=["onClick"],se={key:0,class:"empty-state"},ie={key:0,class:"pagination-row"},ne=["disabled"],oe={class:"page-indicator text-muted"},de=["disabled"],ue={class:"modal-content modal-content--wide"},re={class:"modal-header"},ve={class:"modal-title"},ce={class:"modal-title__copy"},be={class:"modal-body"},me={class:"form-grid form-grid--2"},pe={class:"field"},ge={class:"field"},fe={class:"form-grid form-grid--3"},he={class:"field"},_e={class:"field"},ye={class:"field"},ke={class:"section-card"},we={class:"form-grid form-grid--2"},Se={class:"field"},xe={class:"field"},Ce={class:"section-card"},Te={class:"thumb-row"},Le={class:"thumb-uploader"},Pe={class:"thumb-preview","aria-label":"Preview thumbnail"},Ue=["src"],De={key:1,class:"thumb-empty"},Fe={class:"modal-footer"},Ve=["disabled"],Ie=["disabled"],Me=["disabled"],Ne={key:0,class:"spinner","aria-hidden":"true"},Ae={key:1,class:"bi bi-check-lg","aria-hidden":"true"},Re={class:"modal-content modal-content--confirm"},Ee={class:"modal-body"},$e={class:"confirm-summary"},Be={class:"confirm-item"},Ge={class:"confirm-value"},He={class:"confirm-item"},je={class:"confirm-value"},We={class:"confirm-item"},Ke={class:"confirm-value"},ze={class:"modal-footer"},Oe=["disabled"],qe=["disabled"],Je={key:0,class:"spinner","aria-hidden":"true"},Qe={key:1,class:"bi bi-trash","aria-hidden":"true"},Xe={__name:"AdminSongs",setup(Ye){const Z="/api",S=d([]),u=d({total:0,page:1,limit:20,totalPages:1}),T=d({totalSongs:0,activeSongs:0,inactiveSongs:0,totalPlays:0,playsToday:0}),tt=d([]),lt=d([]),K=d(!0),m=d(!0),z=d(!0),L=d(""),et=d(Date.now()),N=d(""),O=d(""),q=d(""),P=d(""),A=d(!1),g=d(null),_=d(!1),o=d({title:"",artist:"",genre:"",language:"",status:"active",video_url_full:"",video_url_instrumental:"",thumbnail_url:""}),J=d(0),U=d(null),R=d(null),y=d(!1),f=d({open:!1,song:null}),at=d(!1),rt=d(""),Q=d("success");let E=null,$=null;const X=H(()=>m.value||z.value),vt=H({get:()=>u.value.limit||20,set:a=>{u.value.page=1,u.value.limit=Number(a)||20}}),B=a=>new Intl.NumberFormat("id-ID").format(Number(a)||0),kt=H(()=>{const a=new Date(et.value||Date.now());return new Intl.DateTimeFormat("id-ID",{hour:"2-digit",minute:"2-digit"}).format(a)}),ct=a=>({active:"Active",inactive:"Inactive"})[a]||a||"-",bt=a=>a==="active"?"pill--success":a==="inactive"?"pill--danger":"pill--soft",mt=a=>a==="active"?"bi bi-check-circle-fill":a==="inactive"?"bi bi-slash-circle-fill":"bi bi-dot",st=a=>{if(!a)return"";let l=String(a).trim();if(l.includes("localhost")&&(l=l.replace(/^http(s)?:\/\/localhost(:\d+)?/,"")),l.startsWith("http"))return l;const e=Z.endsWith("/api")?Z.replace("/api",""):Z;return e.includes("localhost")?l.startsWith("/")?l:`/${l}`:`${e}${l.startsWith("/")?"":"/"}${l}`},pt=H(()=>R.value?R.value:o.value.thumbnail_url?st(o.value.thumbnail_url):""),wt=H(()=>[{key:"totalSongs",label:"Total Lagu",value:T.value.totalSongs||0,icon:"bi bi-collection",tone:"tone-cyan",statusFilter:"",linkLabel:"Lihat"},{key:"activeSongs",label:"Active",value:T.value.activeSongs||0,icon:"bi bi-check-circle-fill",tone:"tone-green",statusFilter:"active",linkLabel:"Filter"},{key:"inactiveSongs",label:"Inactive",value:T.value.inactiveSongs||0,icon:"bi bi-slash-circle-fill",tone:"tone-blue",statusFilter:"inactive",linkLabel:"Filter"},{key:"totalPlays",label:"Total Play",value:T.value.totalPlays||0,icon:"bi bi-play-circle-fill",tone:"tone-cyan"},{key:"playsToday",label:"Play Hari Ini",value:T.value.playsToday||0,icon:"bi bi-calendar2-check-fill",tone:"tone-blue",hint:"Dari semua lagu"}]),D=(a,l="success")=>{rt.value=a,Q.value=l,at.value=!0,E&&clearTimeout(E),E=setTimeout(()=>{at.value=!1},2500)},G=()=>{const a=R.value;if(typeof a=="string"&&a.startsWith("blob:"))try{URL.revokeObjectURL(a)}catch{}R.value=null},St=()=>{o.value={title:"",artist:"",genre:"",language:"",status:"active",video_url_full:"",video_url_instrumental:"",thumbnail_url:""}},xt=async()=>{K.value=!0;try{const[a,l]=await Promise.all([yt.getGenres(),yt.getLanguages()]);tt.value=a.data.data||[],lt.value=l.data.data||[]}catch(a){console.error("Error fetching genres/languages:",a),tt.value=[],lt.value=[]}finally{K.value=!1}},Ct=async()=>{var a,l;z.value=!0,L.value="";try{const r=(await M.getDashboard()).data.data||{},c=Number(r.totalSongs)||0,I=Number(r.activeSongs)||0;T.value={totalSongs:c,activeSongs:I,inactiveSongs:Math.max(0,c-I),totalPlays:Number(r.totalPlays)||0,playsToday:Number(r.playsToday)||0},et.value=Date.now()}catch(e){console.error("Error fetching stats:",e),L.value=((l=(a=e.response)==null?void 0:a.data)==null?void 0:l.message)||"Gagal memuat ringkasan lagu"}finally{z.value=!1}},x=async()=>{var a,l;m.value=!0,L.value="";try{const e={search:P.value||void 0,status:N.value||void 0,genre:O.value||void 0,language:q.value||void 0,page:u.value.page||1,limit:u.value.limit||20},r=await M.getSongs(e);S.value=r.data.data||[];const c=r.data.meta||{};u.value={total:Number(c.total)||0,page:Number(c.page)||1,limit:Number(c.limit)||u.value.limit||20,totalPages:Number(c.totalPages)||1},et.value=Date.now()}catch(e){console.error("Error fetching songs:",e),L.value=((l=(a=e.response)==null?void 0:a.data)==null?void 0:l.message)||"Gagal memuat daftar lagu",S.value=[]}finally{m.value=!1}},F=async()=>{await Promise.all([Ct(),x()])},Tt=a=>{N.value=a};j(N,()=>{u.value.page=1,x()}),j(O,()=>{u.value.page=1,x()}),j(q,()=>{u.value.page=1,x()}),j(()=>u.value.limit,()=>{u.value.page=1,x()}),j(P,()=>{u.value.page=1,$&&clearTimeout($),$=setTimeout(x,300)});const gt=a=>{const l=Math.max(1,Math.min(Number(a)||1,u.value.totalPages||1));l!==u.value.page&&(u.value.page=l,x())},Lt=()=>{g.value=null,St(),U.value=null,G(),J.value+=1,A.value=!0},ft=a=>{g.value=(a==null?void 0:a.id)||null,o.value={title:(a==null?void 0:a.title)||"",artist:(a==null?void 0:a.artist)||"",genre:(a==null?void 0:a.genre)||"",language:(a==null?void 0:a.language)||"",status:(a==null?void 0:a.status)||"active",video_url_full:(a==null?void 0:a.video_url_full)||"",video_url_instrumental:(a==null?void 0:a.video_url_instrumental)||"",thumbnail_url:(a==null?void 0:a.thumbnail_url)||""},U.value=null,G(),J.value+=1,A.value=!0},Pt=a=>{var e;const l=(e=a.target.files)==null?void 0:e[0];l&&(G(),U.value=l,R.value=URL.createObjectURL(l))},V=()=>{_.value||(A.value=!1,g.value=null,U.value=null,G(),J.value+=1)},Ut=async()=>{var a,l,e;_.value=!0;try{const r={title:String(o.value.title||"").trim(),artist:String(o.value.artist||"").trim(),genre:String(o.value.genre||"").trim()||null,language:String(o.value.language||"").trim()||null,status:o.value.status||"active",video_url_full:String(o.value.video_url_full||"").trim()||null,video_url_instrumental:String(o.value.video_url_instrumental||"").trim()||null,thumbnail_url:String(o.value.thumbnail_url||"").trim()||null};let c=g.value;if(g.value?(await M.updateSong(g.value,r),D("Lagu berhasil diupdate","success")):(c=(a=(await M.createSong(r)).data.data)==null?void 0:a.id,D("Lagu berhasil ditambahkan","success")),U.value&&c){const I=new FormData;I.append("thumbnail",U.value),await M.uploadThumbnail(c,I),D("Thumbnail berhasil diupload","info")}V(),await F()}catch(r){console.error("Error saving song:",r),D(((e=(l=r.response)==null?void 0:l.data)==null?void 0:e.message)||"Gagal menyimpan lagu","danger")}finally{_.value=!1}},it=a=>{a!=null&&a.id&&(f.value={open:!0,song:a})},Y=()=>{y.value||(f.value.open=!1)},Dt=async()=>{var l,e;if(!f.value.open||y.value)return;const a=f.value.song;if(a!=null&&a.id){y.value=!0;try{await M.deleteSong(a.id),D("Lagu berhasil dihapus","success"),g.value===a.id&&V(),await F()}catch(r){console.error("Error deleting song:",r),D(((e=(l=r.response)==null?void 0:l.data)==null?void 0:e.message)||"Gagal menghapus lagu","danger")}finally{y.value=!1,f.value.open=!1}}},ht=a=>{if(a.key==="Escape"){if(f.value.open)return Y();if(A.value)return V()}};return Vt(async()=>{await Promise.all([xt(),F()]),window.addEventListener("keydown",ht)}),It(()=>{window.removeEventListener("keydown",ht),E&&clearTimeout(E),$&&clearTimeout($),G()}),(a,l)=>(i(),s("div",Mt,[t("header",Nt,[t("div",At,[l[17]||(l[17]=t("div",{class:"page-badge"},[t("i",{class:"bi bi-music-note-list","aria-hidden":"true"}),t("span",null,"Manajemen Lagu")],-1)),l[18]||(l[18]=t("h1",null,"Kelola Lagu dengan cepat & rapi",-1)),l[19]||(l[19]=t("p",{class:"text-muted"}," Cari, filter, edit metadata, dan upload thumbnail. Semua konsisten dengan tema green–blue gradient. ",-1)),t("div",Rt,[l[16]||(l[16]=t("i",{class:"bi bi-clock","aria-hidden":"true"},null,-1)),t("span",null,"Terakhir update: "+n(kt.value),1)])]),t("div",Et,[t("button",{class:"btn btn-ghost",type:"button",onClick:F,disabled:X.value},[l[20]||(l[20]=t("i",{class:"bi bi-arrow-clockwise","aria-hidden":"true"},null,-1)),v(" "+n(X.value?"Memuat…":"Refresh"),1)],8,$t),t("button",{class:"btn btn-primary",type:"button",onClick:Lt},[...l[21]||(l[21]=[t("i",{class:"bi bi-plus-lg","aria-hidden":"true"},null,-1),v(" Tambah Lagu ",-1)])])])]),L.value&&!X.value?(i(),s("div",Bt,[l[24]||(l[24]=t("div",{class:"alert-icon","aria-hidden":"true"},[t("i",{class:"bi bi-exclamation-triangle-fill"})],-1)),t("div",Gt,[l[22]||(l[22]=t("div",{class:"alert-title"},"Gagal memuat data lagu",-1)),t("div",Ht,n(L.value),1)]),t("button",{class:"btn btn-ghost btn-sm",type:"button",onClick:F},[...l[23]||(l[23]=[t("i",{class:"bi bi-arrow-clockwise","aria-hidden":"true"},null,-1),v(" Coba lagi ",-1)])])])):p("",!0),t("section",jt,[z.value?(i(),s(h,{key:0},k(5,e=>t("div",{key:e,class:"stat-card stat-card--skeleton"},[...l[25]||(l[25]=[t("div",{class:"stat-icon loading-skeleton","aria-hidden":"true"},null,-1),t("div",{class:"stat-body"},[t("div",{class:"skeleton-line loading-skeleton"}),t("div",{class:"skeleton-line skeleton-line--lg loading-skeleton"})],-1)])])),64)):(i(!0),s(h,{key:1},k(wt.value,e=>(i(),s("div",{key:e.key,class:w(["stat-card",e.tone])},[t("div",Wt,[t("i",{class:w(e.icon)},null,2)]),t("div",Kt,[t("div",zt,n(e.label),1),t("div",Ot,n(B(e.value)),1),e.hint?(i(),s("div",qt,n(e.hint),1)):p("",!0)]),e.statusFilter!==void 0?(i(),s("button",{key:0,class:"stat-link",type:"button",onClick:r=>Tt(e.statusFilter)},[t("span",null,n(e.linkLabel),1),l[26]||(l[26]=t("i",{class:"bi bi-arrow-right","aria-hidden":"true"},null,-1))],8,Jt)):p("",!0)],2))),128))]),t("section",Qt,[l[38]||(l[38]=_t('<div class="panel-header panel-header--compact" data-v-618426f2><div class="panel-title" data-v-618426f2><div class="panel-icon panel-icon--soft" aria-hidden="true" data-v-618426f2><i class="bi bi-funnel-fill" data-v-618426f2></i></div><div class="panel-title__copy" data-v-618426f2><h2 data-v-618426f2>Filter</h2><p class="text-muted" data-v-618426f2>Cari berdasarkan judul/artis, dan filter status/genre/bahasa.</p></div></div></div>',1)),t("div",Xt,[t("div",Yt,[t("div",Zt,[l[28]||(l[28]=t("label",{class:"field-label",for:"song-status"},"Status",-1)),b(t("select",{id:"song-status","onUpdate:modelValue":l[0]||(l[0]=e=>N.value=e),class:"form-select",disabled:m.value},[...l[27]||(l[27]=[t("option",{value:""},"Semua",-1),t("option",{value:"active"},"Active",-1),t("option",{value:"inactive"},"Inactive",-1)])],8,tl),[[W,N.value]])]),t("div",ll,[l[30]||(l[30]=t("label",{class:"field-label",for:"song-genre"},"Genre",-1)),b(t("select",{id:"song-genre","onUpdate:modelValue":l[1]||(l[1]=e=>O.value=e),class:"form-select",disabled:m.value||K.value},[l[29]||(l[29]=t("option",{value:""},"Semua",-1)),(i(!0),s(h,null,k(tt.value,e=>(i(),s("option",{key:e,value:e},n(e),9,al))),128))],8,el),[[W,O.value]])]),t("div",sl,[l[32]||(l[32]=t("label",{class:"field-label",for:"song-language"},"Bahasa",-1)),b(t("select",{id:"song-language","onUpdate:modelValue":l[2]||(l[2]=e=>q.value=e),class:"form-select",disabled:m.value||K.value},[l[31]||(l[31]=t("option",{value:""},"Semua",-1)),(i(!0),s(h,null,k(lt.value,e=>(i(),s("option",{key:e,value:e},n(e),9,nl))),128))],8,il),[[W,q.value]])]),t("div",ol,[l[35]||(l[35]=t("label",{class:"field-label",for:"song-search"},"Cari",-1)),t("div",dl,[l[34]||(l[34]=t("i",{class:"bi bi-search","aria-hidden":"true"},null,-1)),b(t("input",{id:"song-search","onUpdate:modelValue":l[3]||(l[3]=e=>P.value=e),type:"text",class:"form-control",placeholder:"Cari judul, artis…"},null,512),[[C,P.value]]),P.value?(i(),s("button",{key:0,class:"icon-clear",type:"button",onClick:l[4]||(l[4]=e=>P.value=""),"aria-label":"Hapus pencarian"},[...l[33]||(l[33]=[t("i",{class:"bi bi-x-circle-fill","aria-hidden":"true"},null,-1)])])):p("",!0)])]),t("div",ul,[l[37]||(l[37]=t("label",{class:"field-label",for:"song-limit"},"Per halaman",-1)),b(t("select",{id:"song-limit","onUpdate:modelValue":l[5]||(l[5]=e=>vt.value=e),class:"form-select",disabled:m.value},[...l[36]||(l[36]=[t("option",{value:10},"10",-1),t("option",{value:20},"20",-1),t("option",{value:50},"50",-1),t("option",{value:100},"100",-1)])],8,rl),[[W,vt.value,void 0,{number:!0}]])])])])]),t("section",vl,[t("div",cl,[t("div",bl,[l[43]||(l[43]=t("div",{class:"panel-icon","aria-hidden":"true"},[t("i",{class:"bi bi-collection-play"})],-1)),t("div",ml,[l[42]||(l[42]=t("h2",null,"Daftar Lagu",-1)),t("p",pl,[l[39]||(l[39]=v(" Menampilkan ",-1)),t("strong",null,n(B(S.value.length)),1),l[40]||(l[40]=v(" dari ",-1)),t("strong",null,n(B(u.value.total)),1),l[41]||(l[41]=v(" data. ",-1))])])]),t("div",gl,[t("button",{class:"btn btn-ghost btn-sm",type:"button",onClick:F,disabled:X.value},[...l[44]||(l[44]=[t("i",{class:"bi bi-arrow-clockwise","aria-hidden":"true"},null,-1),v(" Refresh ",-1)])],8,fl)])]),t("div",hl,[t("div",_l,[t("table",yl,[l[53]||(l[53]=t("thead",null,[t("tr",null,[t("th",null,"Lagu"),t("th",null,"Genre"),t("th",null,"Bahasa"),t("th",null,"Play"),t("th",null,"Status"),t("th",{class:"th-actions"},"Aksi")])],-1)),t("tbody",null,[m.value?(i(),s(h,{key:0},k(8,e=>t("tr",{key:e,class:"tr-skeleton"},[...l[45]||(l[45]=[t("td",null,[t("div",{class:"skeleton-cell loading-skeleton"})],-1),t("td",null,[t("div",{class:"skeleton-cell loading-skeleton"})],-1),t("td",null,[t("div",{class:"skeleton-cell loading-skeleton"})],-1),t("td",null,[t("div",{class:"skeleton-cell loading-skeleton"})],-1),t("td",null,[t("div",{class:"skeleton-cell loading-skeleton"})],-1),t("td",null,[t("div",{class:"skeleton-cell loading-skeleton"})],-1)])])),64)):(i(),s(h,{key:1},[(i(!0),s(h,null,k(S.value,e=>(i(),s("tr",{key:e.id},[t("td",kl,[t("div",wl,[t("div",Sl,[e.thumbnail_url?(i(),s("img",{key:0,src:st(e.thumbnail_url),alt:"",loading:"lazy"},null,8,xl)):(i(),s("div",Cl,[...l[46]||(l[46]=[t("i",{class:"bi bi-music-note","aria-hidden":"true"},null,-1)])]))]),t("div",Tl,[t("div",{class:"song-title",title:e.title},n(e.title),9,Ll),t("div",Pl,[t("span",{class:"song-artist",title:e.artist},n(e.artist),9,Ul),t("span",Dl,"#"+n(e.id),1)])])])]),t("td",null,[t("span",Fl,[l[47]||(l[47]=t("i",{class:"bi bi-tag","aria-hidden":"true"},null,-1)),v(" "+n(e.genre||"-"),1)])]),t("td",null,[t("span",Vl,[l[48]||(l[48]=t("i",{class:"bi bi-translate","aria-hidden":"true"},null,-1)),v(" "+n(e.language||"-"),1)])]),t("td",Il,[t("span",Ml,[l[49]||(l[49]=t("i",{class:"bi bi-play-fill","aria-hidden":"true"},null,-1)),v(" "+n(B(e.play_count)),1)])]),t("td",null,[t("span",{class:w(["pill",bt(e.status)])},[t("i",{class:w(mt(e.status)),"aria-hidden":"true"},null,2),v(" "+n(ct(e.status)),1)],2)]),t("td",Nl,[t("div",Al,[t("button",{class:"btn btn-ghost btn-sm btn-icon",type:"button",onClick:r=>ft(e),"aria-label":"Edit"},[...l[50]||(l[50]=[t("i",{class:"bi bi-pencil","aria-hidden":"true"},null,-1)])],8,Rl),t("button",{class:"btn btn-ghost btn-sm btn-icon btn-icon--danger",type:"button",onClick:r=>it(e),"aria-label":"Hapus"},[...l[51]||(l[51]=[t("i",{class:"bi bi-trash","aria-hidden":"true"},null,-1)])],8,El)])])]))),128)),S.value.length?p("",!0):(i(),s("tr",$l,[...l[52]||(l[52]=[t("td",{colspan:"6"},[t("div",{class:"empty-state"},[t("div",{class:"empty-icon","aria-hidden":"true"},[t("i",{class:"bi bi-music-note-beamed"})]),t("h3",null,"Tidak ada lagu ditemukan"),t("p",{class:"text-muted"},"Coba ubah filter atau kata kunci pencarian.")])],-1)])]))],64))])])]),t("div",Bl,[m.value?(i(),s(h,{key:0},k(6,e=>t("div",{key:e,class:"song-card song-card--skeleton"},[...l[54]||(l[54]=[_t('<div class="skeleton-line loading-skeleton" data-v-618426f2></div><div class="skeleton-line skeleton-line--sm loading-skeleton" data-v-618426f2></div><div class="skeleton-chip-row" data-v-618426f2><div class="skeleton-chip loading-skeleton" data-v-618426f2></div><div class="skeleton-chip loading-skeleton" data-v-618426f2></div><div class="skeleton-chip loading-skeleton" data-v-618426f2></div></div><div class="skeleton-btn-row" data-v-618426f2><div class="skeleton-btn loading-skeleton" data-v-618426f2></div><div class="skeleton-btn loading-skeleton" data-v-618426f2></div></div>',4)])])),64)):(i(),s(h,{key:1},[(i(!0),s(h,null,k(S.value,e=>(i(),s("div",{key:e.id,class:"song-card"},[t("div",Gl,[t("div",Hl,[t("div",jl,[e.thumbnail_url?(i(),s("img",{key:0,src:st(e.thumbnail_url),alt:"",loading:"lazy"},null,8,Wl)):(i(),s("div",Kl,[...l[55]||(l[55]=[t("i",{class:"bi bi-music-note","aria-hidden":"true"},null,-1)])]))]),t("div",zl,[t("div",{class:"song-title",title:e.title},n(e.title),9,Ol),t("div",ql,[t("span",{title:e.artist},n(e.artist),9,Jl),t("span",Ql,"#"+n(e.id),1)])])]),t("span",{class:w(["pill",bt(e.status)])},[t("i",{class:w(mt(e.status)),"aria-hidden":"true"},null,2),v(" "+n(ct(e.status)),1)],2)]),t("div",Xl,[t("span",Yl,[l[56]||(l[56]=t("i",{class:"bi bi-tag","aria-hidden":"true"},null,-1)),v(" "+n(e.genre||"-"),1)]),t("span",Zl,[l[57]||(l[57]=t("i",{class:"bi bi-translate","aria-hidden":"true"},null,-1)),v(" "+n(e.language||"-"),1)]),t("span",te,[l[58]||(l[58]=t("i",{class:"bi bi-play-fill","aria-hidden":"true"},null,-1)),v(" "+n(B(e.play_count)),1)])]),t("div",le,[t("button",{class:"btn btn-ghost btn-sm",type:"button",onClick:r=>ft(e)},[...l[59]||(l[59]=[t("i",{class:"bi bi-pencil","aria-hidden":"true"},null,-1),v(" Edit ",-1)])],8,ee),t("button",{class:"btn btn-ghost btn-sm btn-icon btn-icon--danger",type:"button",onClick:r=>it(e),"aria-label":"Hapus"},[...l[60]||(l[60]=[t("i",{class:"bi bi-trash","aria-hidden":"true"},null,-1)])],8,ae)])]))),128)),S.value.length?p("",!0):(i(),s("div",se,[...l[61]||(l[61]=[t("div",{class:"empty-icon","aria-hidden":"true"},[t("i",{class:"bi bi-music-note-beamed"})],-1),t("h3",null,"Tidak ada lagu ditemukan",-1),t("p",{class:"text-muted"},"Coba ubah filter atau kata kunci pencarian.",-1)])]))],64))]),u.value.totalPages>1?(i(),s("div",ie,[t("button",{class:"btn btn-ghost btn-sm",type:"button",onClick:l[6]||(l[6]=e=>gt(u.value.page-1)),disabled:m.value||u.value.page<=1},[...l[62]||(l[62]=[t("i",{class:"bi bi-chevron-left","aria-hidden":"true"},null,-1),v(" Sebelumnya ",-1)])],8,ne),t("div",oe,[l[63]||(l[63]=v(" Halaman ",-1)),t("strong",null,n(u.value.page),1),v(" / "+n(u.value.totalPages),1)]),t("button",{class:"btn btn-ghost btn-sm",type:"button",onClick:l[7]||(l[7]=e=>gt(u.value.page+1)),disabled:m.value||u.value.page>=u.value.totalPages},[...l[64]||(l[64]=[v(" Berikutnya ",-1),t("i",{class:"bi bi-chevron-right","aria-hidden":"true"},null,-1)])],8,de)])):p("",!0)])]),nt(ut,{name:"ad-modal"},{default:ot(()=>[A.value?(i(),s("div",{key:0,class:"modal-overlay",role:"dialog","aria-modal":"true","aria-label":"Form lagu",onClick:dt(V,["self"])},[t("div",ue,[t("div",re,[t("div",ve,[l[66]||(l[66]=t("div",{class:"modal-icon","aria-hidden":"true"},[t("i",{class:"bi bi-music-note"})],-1)),t("div",ce,[t("h3",null,n(g.value?"Edit Lagu":"Tambah Lagu Baru"),1),l[65]||(l[65]=t("p",{class:"text-muted"},"Pastikan judul dan artis diisi, serta URL video benar.",-1))])]),t("button",{class:"icon-close",type:"button",onClick:V,"aria-label":"Tutup modal"},[...l[67]||(l[67]=[t("i",{class:"bi bi-x-lg","aria-hidden":"true"},null,-1)])])]),t("form",{onSubmit:dt(Ut,["prevent"])},[t("div",be,[t("div",me,[t("div",pe,[l[68]||(l[68]=t("label",{class:"field-label",for:"song-title"},"Judul *",-1)),b(t("input",{id:"song-title",type:"text",class:"form-control","onUpdate:modelValue":l[8]||(l[8]=e=>o.value.title=e),required:""},null,512),[[C,o.value.title]])]),t("div",ge,[l[69]||(l[69]=t("label",{class:"field-label",for:"song-artist"},"Artis *",-1)),b(t("input",{id:"song-artist",type:"text",class:"form-control","onUpdate:modelValue":l[9]||(l[9]=e=>o.value.artist=e),required:""},null,512),[[C,o.value.artist]])])]),t("div",fe,[t("div",he,[l[70]||(l[70]=t("label",{class:"field-label",for:"song-genre-input"},"Genre",-1)),b(t("input",{id:"song-genre-input",type:"text",class:"form-control","onUpdate:modelValue":l[10]||(l[10]=e=>o.value.genre=e),placeholder:"Pop, Rock, Dangdut…"},null,512),[[C,o.value.genre]])]),t("div",_e,[l[71]||(l[71]=t("label",{class:"field-label",for:"song-language-input"},"Bahasa",-1)),b(t("input",{id:"song-language-input",type:"text",class:"form-control","onUpdate:modelValue":l[11]||(l[11]=e=>o.value.language=e),placeholder:"Indonesia, English…"},null,512),[[C,o.value.language]])]),t("div",ye,[l[73]||(l[73]=t("label",{class:"field-label",for:"song-status-input"},"Status",-1)),b(t("select",{id:"song-status-input",class:"form-select","onUpdate:modelValue":l[12]||(l[12]=e=>o.value.status=e)},[...l[72]||(l[72]=[t("option",{value:"active"},"Active",-1),t("option",{value:"inactive"},"Inactive",-1)])],512),[[W,o.value.status]])])]),t("div",ke,[l[76]||(l[76]=t("div",{class:"section-head"},[t("div",{class:"section-title"},"Video"),t("div",{class:"section-sub text-muted"},[v("Gunakan URL yang bisa diakses publik, contoh: "),t("code",null,"/videos/lagu.mp4")])],-1)),t("div",we,[t("div",Se,[l[74]||(l[74]=t("label",{class:"field-label",for:"song-video-full"},"URL Video Full (Vocal)",-1)),b(t("input",{id:"song-video-full",type:"text",class:"form-control","onUpdate:modelValue":l[13]||(l[13]=e=>o.value.video_url_full=e),placeholder:"/videos/nama-file.mp4"},null,512),[[C,o.value.video_url_full]])]),t("div",xe,[l[75]||(l[75]=t("label",{class:"field-label",for:"song-video-ins"},"URL Video Instrumental",-1)),b(t("input",{id:"song-video-ins",type:"text",class:"form-control","onUpdate:modelValue":l[14]||(l[14]=e=>o.value.video_url_instrumental=e),placeholder:"/videos/nama-file.mp4"},null,512),[[C,o.value.video_url_instrumental]])])])]),t("div",Ce,[l[78]||(l[78]=t("div",{class:"section-head"},[t("div",{class:"section-title"},"Thumbnail"),t("div",{class:"section-sub text-muted"},"Upload gambar atau biarkan kosong untuk auto-generate.")],-1)),t("div",Te,[t("div",Le,[(i(),s("input",{key:J.value,type:"file",class:"form-control",onChange:Pt,accept:"image/*","aria-label":"Upload thumbnail"},null,32))]),t("div",Pe,[pt.value?(i(),s("img",{key:0,src:pt.value,alt:"Preview thumbnail"},null,8,Ue)):(i(),s("div",De,[...l[77]||(l[77]=[t("i",{class:"bi bi-image","aria-hidden":"true"},null,-1),t("span",{class:"text-muted"},"Belum ada thumbnail",-1)])]))])])])]),t("div",Fe,[t("button",{type:"button",class:"btn btn-ghost",onClick:V,disabled:_.value},"Batal",8,Ve),g.value?(i(),s("button",{key:0,type:"button",class:"btn btn-ghost btn-icon btn-icon--danger",onClick:l[15]||(l[15]=e=>it({...o.value,id:g.value})),"aria-label":"Hapus lagu",disabled:_.value},[...l[79]||(l[79]=[t("i",{class:"bi bi-trash","aria-hidden":"true"},null,-1)])],8,Ie)):p("",!0),t("button",{type:"submit",class:"btn btn-primary",disabled:_.value},[_.value?(i(),s("span",Ne)):(i(),s("i",Ae)),v(" "+n(_.value?"Menyimpan…":"Simpan"),1)],8,Me)])],32)])])):p("",!0)]),_:1}),nt(ut,{name:"ad-modal"},{default:ot(()=>{var e,r,c;return[f.value.open?(i(),s("div",{key:0,class:"modal-overlay",role:"dialog","aria-modal":"true","aria-label":"Konfirmasi hapus lagu",onClick:dt(Y,["self"])},[t("div",Re,[t("div",{class:"modal-header"},[l[81]||(l[81]=t("div",{class:"modal-title"},[t("div",{class:"modal-icon","aria-hidden":"true"},[t("i",{class:"bi bi-trash"})]),t("div",{class:"modal-title__copy"},[t("h3",null,"Hapus lagu ini?"),t("p",{class:"text-muted"},"Tindakan ini tidak bisa dibatalkan.")])],-1)),t("button",{class:"icon-close",type:"button",onClick:Y,"aria-label":"Tutup konfirmasi"},[...l[80]||(l[80]=[t("i",{class:"bi bi-x-lg","aria-hidden":"true"},null,-1)])])]),t("div",Ee,[t("div",$e,[t("div",Be,[l[82]||(l[82]=t("div",{class:"confirm-label text-muted"},"Judul",-1)),t("div",Ge,n(((e=f.value.song)==null?void 0:e.title)||"-"),1)]),t("div",He,[l[83]||(l[83]=t("div",{class:"confirm-label text-muted"},"Artis",-1)),t("div",je,n(((r=f.value.song)==null?void 0:r.artist)||"-"),1)]),t("div",We,[l[84]||(l[84]=t("div",{class:"confirm-label text-muted"},"ID",-1)),t("div",Ke,"#"+n(((c=f.value.song)==null?void 0:c.id)||"-"),1)])])]),t("div",ze,[t("button",{class:"btn btn-ghost",type:"button",onClick:Y,disabled:y.value},"Batal",8,Oe),t("button",{class:"btn btn-danger",type:"button",onClick:Dt,disabled:y.value},[y.value?(i(),s("span",Je)):(i(),s("i",Qe)),v(" "+n(y.value?"Menghapus…":"Hapus"),1)],8,qe)])])])):p("",!0)]}),_:1}),nt(ut,{name:"ad-toast"},{default:ot(()=>[at.value?(i(),s("div",{key:0,class:w(["toast",`toast--${Q.value}`]),role:"status","aria-live":"polite"},[t("i",{class:w(Q.value==="success"?"bi bi-check-circle-fill":Q.value==="danger"?"bi bi-x-circle-fill":"bi bi-info-circle-fill"),"aria-hidden":"true"},null,2),t("span",null,n(rt.value),1)],2)):p("",!0)]),_:1})]))}},ta=Ft(Xe,[["__scopeId","data-v-618426f2"]]);export{ta as default};
