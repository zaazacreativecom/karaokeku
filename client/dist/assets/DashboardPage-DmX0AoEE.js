import{_ as C,u as M,r as _,o as B,c as d,a as s,b as o,w as i,d as c,e as K,f as N,g as D,n as u,h as g,t as n,F as $,i as w,p as T,s as U,j as F,k as r}from"./index-DY9xsVSO.js";import{M as V}from"./MobileNav-B55vU6H0.js";const q={class:"dashboard-layout"},I={class:"dashboard-sidebar"},E={class:"sidebar-header"},j={class:"sidebar-nav"},z={class:"sidebar-footer"},H={class:"user-info"},W={class:"user-details"},G={class:"user-name"},J={class:"user-role"},O={class:"dashboard-main"},Q={class:"main-content"},X={class:"welcome-section"},Y={class:"stats-grid"},Z={class:"stat-card"},x={class:"stat-info"},ss={class:"stat-value"},as={class:"stat-card"},ts={class:"stat-info"},ls={class:"stat-value"},os={class:"stat-card"},is={class:"stat-info"},ns={class:"stat-value"},es={class:"stat-card"},rs={class:"stat-info"},ds={class:"stat-value"},us={class:"content-grid"},cs={class:"content-card"},vs={class:"card-header"},bs={class:"card-body"},ps={key:0,class:"song-list"},ms={class:"song-info"},gs={key:0,class:"song-score"},fs={key:1,class:"empty-state"},ks={class:"content-card"},ys={class:"card-header"},_s={class:"card-body"},hs={key:0,class:"song-list"},Ss=["onClick"],Ps={class:"song-rank"},Ds={class:"song-info"},$s={class:"song-plays"},ws={key:1,class:"empty-state"},Ls={__name:"DashboardPage",setup(As){const h=F(),v=M(),b=_({}),f=_([]),k=_([]),L=()=>{v.logout(),h.push("/")},A=l=>{h.push(`/karaoke/${l}`)},R=async()=>{var l;try{const t=(await T.getScores()).data.data;b.value={totalPlays:t.totalSongsPlayed||0,avgScore:t.averageScore||0,totalMinutes:t.totalDurationMinutes||0,level:t.level||"Pemula"},f.value=((l=t.recentPlays)==null?void 0:l.slice(0,5))||[];const p=await U.getTop(5);k.value=p.data.data||[]}catch(a){console.error("Error fetching dashboard data:",a)}};return B(()=>{R()}),(l,a)=>{var p,S,P;const t=K("router-link");return r(),d("div",q,[s("aside",I,[s("div",E,[o(t,{to:"/dashboard",class:"brand"},{default:i(()=>[...a[0]||(a[0]=[s("i",{class:"bi bi-music-note-beamed"},null,-1),s("span",null,[c("Karaoke"),s("span",{class:"text-gradient"},"Ku")],-1)])]),_:1})]),s("nav",j,[o(t,{to:"/dashboard",class:u(["nav-item",{active:l.$route.name==="Dashboard"}])},{default:i(()=>[...a[1]||(a[1]=[s("i",{class:"bi bi-grid-1x2-fill"},null,-1),s("span",null,"Dashboard",-1)])]),_:1},8,["class"]),o(t,{to:"/karaoke",class:u(["nav-item",{active:l.$route.name==="Karaoke"||l.$route.name==="KaraokePlay"}])},{default:i(()=>[...a[2]||(a[2]=[s("i",{class:"bi bi-mic-fill"},null,-1),s("span",null,"Karaoke",-1)])]),_:1},8,["class"]),o(t,{to:"/songs",class:u(["nav-item",{active:l.$route.name==="Songs"}])},{default:i(()=>[...a[3]||(a[3]=[s("i",{class:"bi bi-music-note-list"},null,-1),s("span",null,"Pilih Lagu",-1)])]),_:1},8,["class"]),o(t,{to:"/favorites",class:u(["nav-item",{active:l.$route.name==="Favorites"}])},{default:i(()=>[...a[4]||(a[4]=[s("i",{class:"bi bi-heart-fill"},null,-1),s("span",null,"Lagu Favorit",-1)])]),_:1},8,["class"]),o(t,{to:"/playlists",class:u(["nav-item",{active:l.$route.name==="Playlists"}])},{default:i(()=>[...a[5]||(a[5]=[s("i",{class:"bi bi-collection-play-fill"},null,-1),s("span",null,"Playlist Saya",-1)])]),_:1},8,["class"]),o(t,{to:"/upload",class:u(["nav-item",{active:l.$route.name==="Upload"}])},{default:i(()=>[...a[6]||(a[6]=[s("i",{class:"bi bi-cloud-upload-fill"},null,-1),s("span",null,"Upload Lagu",-1)])]),_:1},8,["class"]),o(t,{to:"/history",class:u(["nav-item",{active:l.$route.name==="History"}])},{default:i(()=>[...a[7]||(a[7]=[s("i",{class:"bi bi-clock-history"},null,-1),s("span",null,"Riwayat & Score",-1)])]),_:1},8,["class"]),o(t,{to:"/request",class:u(["nav-item",{active:l.$route.name==="Request"}])},{default:i(()=>[...a[8]||(a[8]=[s("i",{class:"bi bi-plus-circle-fill"},null,-1),s("span",null,"Request Lagu",-1)])]),_:1},8,["class"]),o(t,{to:"/donation",class:u(["nav-item",{active:l.$route.name==="Donation"}])},{default:i(()=>[...a[9]||(a[9]=[s("i",{class:"bi bi-heart-fill"},null,-1),s("span",null,"Donasi",-1)])]),_:1},8,["class"]),a[12]||(a[12]=s("div",{class:"nav-divider"},null,-1)),o(t,{to:"/settings",class:u(["nav-item",{active:l.$route.name==="Settings"}])},{default:i(()=>[...a[10]||(a[10]=[s("i",{class:"bi bi-gear-fill"},null,-1),s("span",null,"Pengaturan",-1)])]),_:1},8,["class"]),g(v).isAdmin?(r(),N(t,{key:0,to:"/admin",class:"nav-item nav-item-admin"},{default:i(()=>[...a[11]||(a[11]=[s("i",{class:"bi bi-shield-lock-fill"},null,-1),s("span",null,"Admin Panel",-1)])]),_:1})):D("",!0)]),s("div",z,[s("div",H,[a[13]||(a[13]=s("div",{class:"user-avatar"},[s("i",{class:"bi bi-person-fill"})],-1)),s("div",W,[s("span",G,n((p=g(v).user)==null?void 0:p.name),1),s("span",J,n(g(v).isAdmin?"Admin":"User"),1)])]),s("button",{class:"btn-logout",onClick:L},[...a[14]||(a[14]=[s("i",{class:"bi bi-box-arrow-right"},null,-1)])])])]),s("main",O,[s("div",Q,[s("div",X,[s("div",null,[s("h1",null,"Selamat Datang, "+n((P=(S=g(v).user)==null?void 0:S.name)==null?void 0:P.split(" ")[0])+"! ðŸ‘‹",1),a[15]||(a[15]=s("p",{class:"text-muted"},"Siap untuk karaoke hari ini?",-1))]),o(t,{to:"/karaoke",class:"btn btn-primary btn-lg"},{default:i(()=>[...a[16]||(a[16]=[s("i",{class:"bi bi-play-fill me-2"},null,-1),c(" Mulai Karaoke ",-1)])]),_:1})]),s("div",Y,[s("div",Z,[a[18]||(a[18]=s("div",{class:"stat-icon",style:{background:"rgba(139, 92, 246, 0.2)",color:"var(--primary)"}},[s("i",{class:"bi bi-music-note-list"})],-1)),s("div",x,[s("span",ss,n(b.value.totalPlays||0),1),a[17]||(a[17]=s("span",{class:"stat-label"},"Lagu Dimainkan",-1))])]),s("div",as,[a[20]||(a[20]=s("div",{class:"stat-icon",style:{background:"rgba(236, 72, 153, 0.2)",color:"var(--secondary)"}},[s("i",{class:"bi bi-trophy-fill"})],-1)),s("div",ts,[s("span",ls,n(b.value.avgScore||0),1),a[19]||(a[19]=s("span",{class:"stat-label"},"Rata-rata Score",-1))])]),s("div",os,[a[22]||(a[22]=s("div",{class:"stat-icon",style:{background:"rgba(6, 182, 212, 0.2)",color:"var(--accent)"}},[s("i",{class:"bi bi-clock-fill"})],-1)),s("div",is,[s("span",ns,n(b.value.totalMinutes||0)+"m",1),a[21]||(a[21]=s("span",{class:"stat-label"},"Total Waktu",-1))])]),s("div",es,[a[24]||(a[24]=s("div",{class:"stat-icon",style:{background:"rgba(34, 197, 94, 0.2)",color:"var(--success)"}},[s("i",{class:"bi bi-star-fill"})],-1)),s("div",rs,[s("span",ds,n(b.value.level||"Pemula"),1),a[23]||(a[23]=s("span",{class:"stat-label"},"Level",-1))])])]),s("div",us,[s("div",cs,[s("div",vs,[a[26]||(a[26]=s("h3",null,[s("i",{class:"bi bi-clock-history me-2"}),c("Terakhir Dimainkan")],-1)),o(t,{to:"/history",class:"btn btn-ghost btn-sm"},{default:i(()=>[...a[25]||(a[25]=[c("Lihat Semua",-1)])]),_:1})]),s("div",bs,[f.value.length>0?(r(),d("div",ps,[(r(!0),d($,null,w(f.value,e=>{var m,y;return r(),d("div",{key:e.id,class:"song-row"},[s("div",ms,[s("h4",null,n(((m=e.song)==null?void 0:m.title)||"Unknown"),1),s("p",null,n(((y=e.song)==null?void 0:y.artist)||"Unknown Artist"),1)]),e.score?(r(),d("span",gs,n(e.score)+" pts",1)):D("",!0)])}),128))])):(r(),d("div",fs,[...a[27]||(a[27]=[s("i",{class:"bi bi-music-note"},null,-1),s("p",null,"Belum ada lagu yang dimainkan",-1)])]))])]),s("div",ks,[s("div",ys,[a[29]||(a[29]=s("h3",null,[s("i",{class:"bi bi-fire me-2"}),c("Lagu Populer")],-1)),o(t,{to:"/songs",class:"btn btn-ghost btn-sm"},{default:i(()=>[...a[28]||(a[28]=[c("Lihat Semua",-1)])]),_:1})]),s("div",_s,[k.value.length>0?(r(),d("div",hs,[(r(!0),d($,null,w(k.value,(e,m)=>(r(),d("div",{key:e.id,class:"song-row clickable",onClick:y=>A(e.id)},[s("span",Ps,n(m+1),1),s("div",Ds,[s("h4",null,n(e.title),1),s("p",null,n(e.artist),1)]),s("span",$s,[a[30]||(a[30]=s("i",{class:"bi bi-play-fill"},null,-1)),c(" "+n(e.play_count||0),1)])],8,Ss))),128))])):(r(),d("div",ws,[...a[31]||(a[31]=[s("i",{class:"bi bi-music-note"},null,-1),s("p",null,"Belum ada lagu populer",-1)])]))])])])])]),o(V)])}}},Ms=C(Ls,[["__scopeId","data-v-f47b2f0e"]]);export{Ms as default};
