import{_ as L,r as m,l as f,o as P,c as n,a as s,b as o,w as r,d as _,e as D,g as c,F as g,i as h,t as d,n as v,H as N,k as l}from"./index-DY9xsVSO.js";import{M as S}from"./MobileNav-B55vU6H0.js";const F={class:"donation-layout"},R={class:"dashboard-sidebar"},W={class:"sidebar-header"},B={class:"sidebar-nav"},E={class:"donation-main"},I={class:"donation-container"},U={key:0,class:"text-center py-5"},V={key:1,class:"payment-methods"},A={key:0,class:"payment-card qr-card"},Q={class:"card-body"},j={class:"mb-3"},z={key:0,class:"qr-wrapper"},H=["src","alt"],G={key:1,class:"payment-card wallet-card"},J={class:"card-body"},O={class:"wallet-list"},X={class:"wallet-info"},Y={class:"wallet-name"},Z={class:"wallet-number"},ss=["onClick"],as={key:2,class:"payment-card bank-card"},es={class:"card-body"},ts={class:"bank-list"},ns={key:0},ls={class:"bank-info"},is={class:"bank-name"},os={class:"bank-number"},rs={key:0,class:"bank-holder"},ds=["onClick"],cs={key:2,class:"toast-notification"},us={__name:"DonationPage",setup(bs){const b="/api",w=m(!0),p=m([]),u=m(!1),y=m(""),$=async()=>{try{const t=await N.get(`${b}/payment-methods`);p.value=t.data.data||[]}catch(t){console.error("Error fetching payment methods:",t)}finally{w.value=!1}},K=t=>{if(!t)return"";if(t.includes("localhost")&&(t=t.replace(/^http(s)?:\/\/localhost(:\d+)?/,"")),t.startsWith("http"))return t;const a=b.endsWith("/api")?b.replace("/api",""):b;return a.includes("localhost")?t.startsWith("/")?t:`/${t}`:`${a}${t.startsWith("/")?"":"/"}${t}`},x=t=>{const a=t.toLowerCase().replace(/\s/g,"");return a.includes("bca")?"bca":a.includes("bni")?"bni":a.includes("mandiri")?"mandiri":a.includes("bri")?"bri":a.includes("cimb")?"cimb":a.includes("gopay")?"gopay":a.includes("ovo")?"ovo":a.includes("dana")?"dana":a.includes("shopee")?"shopee":a},C=f(()=>p.value.filter(t=>t.type==="qris")),q=f(()=>p.value.filter(t=>t.type==="ewallet")),M=f(()=>p.value.filter(t=>t.type==="bank")),T=async(t,a)=>{try{await navigator.clipboard.writeText(t),y.value=`Nomor ${a} berhasil disalin!`,u.value=!0,setTimeout(()=>{u.value=!1},2500)}catch(i){console.error("Failed to copy:",i);const e=document.createElement("textarea");e.value=t,document.body.appendChild(e),e.select();try{document.execCommand("copy"),y.value=`Nomor ${a} berhasil disalin!`,u.value=!0}catch(k){console.error("Fallback copy failed",k)}document.body.removeChild(e),setTimeout(()=>{u.value=!1},2500)}};return P($),(t,a)=>{const i=D("router-link");return l(),n("div",F,[s("aside",R,[s("div",W,[o(i,{to:"/dashboard",class:"brand"},{default:r(()=>[...a[0]||(a[0]=[s("i",{class:"bi bi-music-note-beamed"},null,-1),s("span",null,[_("Karaoke"),s("span",{class:"text-gradient"},"Ku")],-1)])]),_:1})]),s("nav",B,[o(i,{to:"/dashboard",class:"nav-item"},{default:r(()=>[...a[1]||(a[1]=[s("i",{class:"bi bi-grid-1x2-fill"},null,-1),s("span",null,"Dashboard",-1)])]),_:1}),o(i,{to:"/karaoke",class:"nav-item"},{default:r(()=>[...a[2]||(a[2]=[s("i",{class:"bi bi-mic-fill"},null,-1),s("span",null,"Karaoke",-1)])]),_:1}),o(i,{to:"/songs",class:"nav-item"},{default:r(()=>[...a[3]||(a[3]=[s("i",{class:"bi bi-music-note-list"},null,-1),s("span",null,"Pilih Lagu",-1)])]),_:1}),o(i,{to:"/favorites",class:"nav-item"},{default:r(()=>[...a[4]||(a[4]=[s("i",{class:"bi bi-heart-fill"},null,-1),s("span",null,"Lagu Favorit",-1)])]),_:1}),o(i,{to:"/playlists",class:"nav-item"},{default:r(()=>[...a[5]||(a[5]=[s("i",{class:"bi bi-collection-play-fill"},null,-1),s("span",null,"Playlist Saya",-1)])]),_:1}),o(i,{to:"/upload",class:"nav-item"},{default:r(()=>[...a[6]||(a[6]=[s("i",{class:"bi bi-cloud-upload-fill"},null,-1),s("span",null,"Upload Lagu",-1)])]),_:1}),o(i,{to:"/history",class:"nav-item"},{default:r(()=>[...a[7]||(a[7]=[s("i",{class:"bi bi-clock-history"},null,-1),s("span",null,"Riwayat & Score",-1)])]),_:1}),o(i,{to:"/request",class:"nav-item"},{default:r(()=>[...a[8]||(a[8]=[s("i",{class:"bi bi-plus-circle-fill"},null,-1),s("span",null,"Request Lagu",-1)])]),_:1}),o(i,{to:"/donation",class:"nav-item active"},{default:r(()=>[...a[9]||(a[9]=[s("i",{class:"bi bi-heart-fill"},null,-1),s("span",null,"Donasi",-1)])]),_:1}),a[11]||(a[11]=s("div",{class:"nav-divider"},null,-1)),o(i,{to:"/settings",class:"nav-item"},{default:r(()=>[...a[10]||(a[10]=[s("i",{class:"bi bi-gear-fill"},null,-1),s("span",null,"Pengaturan",-1)])]),_:1})])]),s("main",E,[s("div",I,[a[20]||(a[20]=s("div",{class:"page-header"},[s("h1",null,[s("i",{class:"bi bi-heart-fill text-danger"}),_(" Donasi / Traktir")]),s("p",{class:"lead"},"Dukung kami untuk terus mempertahankan KaraokeKu agar tetap bisa diakses oleh semua, karena biaya sewa server terlalu mahal.")],-1)),w.value?(l(),n("div",U,[...a[12]||(a[12]=[s("div",{class:"spinner-border text-primary",role:"status"},[s("span",{class:"visually-hidden"},"Loading...")],-1)])])):(l(),n("div",V,[C.value.length>0?(l(),n("div",A,[a[14]||(a[14]=s("div",{class:"card-header"},[s("i",{class:"bi bi-qr-code"}),s("h3",null,"QRIS / Scan Payment")],-1)),s("div",Q,[(l(!0),n(g,null,h(C.value,e=>(l(),n("div",{key:e.id,class:"qr-item mb-4"},[s("h4",j,d(e.name),1),e.qr_code_url?(l(),n("div",z,[s("img",{src:K(e.qr_code_url),alt:e.name,class:"qr-image"},null,8,H)])):c("",!0),a[13]||(a[13]=s("p",{class:"qr-desc"},"Scan QR code di atas menggunakan aplikasi e-wallet atau mobile banking",-1))]))),128))])])):c("",!0),q.value.length>0?(l(),n("div",G,[a[16]||(a[16]=s("div",{class:"card-header"},[s("i",{class:"bi bi-wallet2"}),s("h3",null,"E-Wallet")],-1)),s("div",J,[s("div",O,[(l(!0),n(g,null,h(q.value,e=>(l(),n("div",{key:e.id,class:"wallet-item"},[s("div",{class:v(["wallet-icon",x(e.name)])},[s("i",{class:v(["bi",e.icon||"bi-phone"])},null,2)],2),s("div",X,[s("span",Y,d(e.name),1),s("span",Z,d(e.account_number),1)]),s("button",{class:"btn btn-sm btn-ghost",onClick:k=>T(e.account_number,e.name)},[...a[15]||(a[15]=[s("i",{class:"bi bi-copy"},null,-1)])],8,ss)]))),128))])])])):c("",!0),M.value.length>0?(l(),n("div",as,[a[18]||(a[18]=s("div",{class:"card-header"},[s("i",{class:"bi bi-bank"}),s("h3",null,"Transfer Bank")],-1)),s("div",es,[s("div",ts,[(l(!0),n(g,null,h(M.value,e=>(l(),n("div",{key:e.id,class:"bank-item"},[s("div",{class:v(["bank-icon",x(e.name)])},[e.icon?(l(),n("i",{key:1,class:v(e.icon)},null,2)):(l(),n("span",ns,d(e.name.substring(0,4)),1))],2),s("div",ls,[s("span",is,d(e.name),1),s("span",os,d(e.account_number),1),e.account_name?(l(),n("span",rs,"a.n. "+d(e.account_name),1)):c("",!0)]),s("button",{class:"btn btn-sm btn-ghost",onClick:k=>T(e.account_number,e.name)},[...a[17]||(a[17]=[s("i",{class:"bi bi-copy"},null,-1)])],8,ds)]))),128))])])])):c("",!0)])),a[21]||(a[21]=s("div",{class:"thank-you-section"},[s("i",{class:"bi bi-emoji-heart-eyes"}),s("h3",null,"Terima Kasih!"),s("p",null,"Setiap donasi Anda sangat berarti bagi kami untuk terus mengembangkan dan memperbaiki KaraokeKu. ")],-1)),u.value?(l(),n("div",cs,[a[19]||(a[19]=s("i",{class:"bi bi-check-circle-fill"},null,-1)),_(" "+d(y.value),1)])):c("",!0)])]),o(S)])}}},vs=L(us,[["__scopeId","data-v-7c2ae81a"]]);export{vs as default};
