import{_ as E,r as p,c as C,o as F,a as l,b as g,d as t,e as r,w as u,f as d,g as j,i as b,t as o,F as x,k as q,n as M,T as A,L as Q,v as e}from"./index-Btw_uZyE.js";import{M as z}from"./MobileNav-CceEoPrP.js";const G={class:"page-layout"},H={class:"dashboard-sidebar"},J={class:"sidebar-header"},O={class:"sidebar-nav"},X={class:"page-main"},Y={class:"page-content"},Z={class:"mobile-topbar"},ss={class:"hero reveal",style:{"--d":"0ms"}},ts={class:"hero__content"},as={class:"hero__stats"},is={class:"stat-pill"},ls={class:"stat-pill stat-pill--soft"},es={class:"stat-pill stat-pill--soft"},ns={class:"stat-pill stat-pill--soft"},os={key:0,class:"stat-pill stat-pill--soft","aria-live":"polite"},ds=["disabled"],rs={class:"hero__art"},us={class:"hero-card hero-card--soft"},bs={key:0,class:"alert-card alert-card--danger reveal",style:{"--d":"70ms"},role:"status"},cs={class:"alert-body"},vs={class:"alert-text text-muted"},ps={class:"content-grid"},ms={class:"panel-header"},fs={class:"panel-actions"},gs={class:"pill pill--soft","aria-hidden":"true"},ks=["disabled"],hs={key:0,class:"methods-skeleton","aria-hidden":"true"},ys={class:"skeleton-list"},_s={key:1,class:"methods-body"},ws={key:0,class:"methods-group"},Cs={class:"group-header"},xs={class:"pill pill--soft","aria-hidden":"true"},qs={class:"qris-grid"},Ms={class:"qris-head"},Rs={class:"qris-title"},Ss={class:"qris-body"},Ts={key:0,class:"qris-frame"},Ks=["src","alt"],Ds={key:1,class:"qris-missing text-muted"},Ps={key:1,class:"methods-group"},$s={class:"group-header"},Ls={class:"pill pill--soft","aria-hidden":"true"},Ns={class:"methods-list"},Is={class:"method-info"},Bs={class:"method-name"},Us={class:"method-number"},Vs={key:0,class:"method-holder text-muted"},Ws=["onClick","aria-label"],Es={key:2,class:"methods-group"},Fs={class:"group-header"},js={class:"pill pill--soft","aria-hidden":"true"},As={class:"methods-list"},Qs={key:0,class:"method-letter"},zs={class:"method-info"},Gs={class:"method-name"},Hs={class:"method-number"},Js={key:0,class:"method-holder text-muted"},Os=["onClick","aria-label"],Xs={key:3,class:"empty-state"},Ys={class:"side-panel"},Zs={class:"panel tips-panel reveal",style:{"--d":"120ms"}},st={class:"tips-cta"},tt={key:0,class:"toast-notification",role:"status","aria-live":"polite"},at={__name:"DonationPage",setup(it){const k="/api",c=p(!0),h=p(""),m=p([]),R=p(!1),P=p("");let S=null;const $=p(null),B=()=>{var a,s;return typeof window>"u"?!0:((s=(a=window.matchMedia)==null?void 0:a.call(window,"(prefers-reduced-motion: reduce)"))==null?void 0:s.matches)??!0},U=a=>{var s;(s=a==null?void 0:a.scrollIntoView)==null||s.call(a,{behavior:B()?"auto":"smooth",block:"start"})},f=()=>{U($.value)},v=async()=>{var a,s;c.value=!0,h.value="";try{const n=await Q.get(`${k}/payment-methods`);m.value=n.data.data||[]}catch(n){console.error("Error fetching payment methods:",n),h.value=((s=(a=n.response)==null?void 0:a.data)==null?void 0:s.message)||"Gagal memuat metode donasi"}finally{c.value=!1}},V=a=>{if(!a)return"";if(a.includes("localhost")&&(a=a.replace(/^http(s)?:\/\/localhost(:\d+)?/,"")),a.startsWith("http"))return a;const s=k.endsWith("/api")?k.replace("/api",""):k;return s.includes("localhost")?a.startsWith("/")?a:`/${a}`:`${s}${a.startsWith("/")?"":"/"}${a}`},y=C(()=>m.value.filter(a=>a.type==="qris")),_=C(()=>m.value.filter(a=>a.type==="ewallet")),w=C(()=>m.value.filter(a=>a.type==="bank")),T=C(()=>m.value.length),W=a=>{const s=String(a||"").trim();return s?(s.split(/\s+/).filter(Boolean)[0]||s).slice(0,4).toUpperCase():"BANK"},L=a=>{if(!a)return"";const s=String(a).trim();return s?s.includes("bi ")?s:s.startsWith("bi-")?`bi ${s}`:s:""},N=a=>{const s=String(a||"").toLowerCase();return s.includes("bri")||s.includes("bca")||s.includes("shopee")?"tone-blue":s.includes("bni")||s.includes("mandiri")||s.includes("dana")?"tone-green":"tone-cyan"},K=a=>{P.value=a,R.value=!0,S&&clearTimeout(S),S=setTimeout(()=>{R.value=!1},2500)},I=async(a,s)=>{try{await navigator.clipboard.writeText(a),K(`Nomor ${s} berhasil disalin!`)}catch(n){console.error("Failed to copy:",n);const i=document.createElement("textarea");i.value=a,document.body.appendChild(i),i.select();try{document.execCommand("copy"),K(`Nomor ${s} berhasil disalin!`)}catch(D){console.error("Fallback copy failed",D),K("Gagal menyalin nomor")}document.body.removeChild(i)}};return F(v),(a,s)=>{const n=j("router-link");return e(),l("div",G,[s[60]||(s[60]=g('<div class="page-bg" aria-hidden="true" data-v-0df2c9b1><div class="bg-mesh" data-v-0df2c9b1></div><div class="bg-particles" data-v-0df2c9b1></div><div class="bg-orb orb-1" data-v-0df2c9b1></div><div class="bg-orb orb-2" data-v-0df2c9b1></div><div class="bg-orb orb-3" data-v-0df2c9b1></div></div>',1)),t("aside",H,[t("div",J,[r(n,{to:"/dashboard",class:"brand"},{default:u(()=>[...s[0]||(s[0]=[t("i",{class:"bi bi-music-note-beamed"},null,-1),t("span",null,[d("Karaoke"),t("span",{class:"text-gradient"},"Ku")],-1)])]),_:1})]),t("nav",O,[r(n,{to:"/dashboard",class:"nav-item"},{default:u(()=>[...s[1]||(s[1]=[t("i",{class:"bi bi-grid-1x2-fill"},null,-1),t("span",null,"Dashboard",-1)])]),_:1}),r(n,{to:"/karaoke",class:"nav-item"},{default:u(()=>[...s[2]||(s[2]=[t("i",{class:"bi bi-mic-fill"},null,-1),t("span",null,"Karaoke",-1)])]),_:1}),r(n,{to:"/songs",class:"nav-item"},{default:u(()=>[...s[3]||(s[3]=[t("i",{class:"bi bi-music-note-list"},null,-1),t("span",null,"Pilih Lagu",-1)])]),_:1}),r(n,{to:"/favorites",class:"nav-item"},{default:u(()=>[...s[4]||(s[4]=[t("i",{class:"bi bi-heart-fill"},null,-1),t("span",null,"Lagu Favorit",-1)])]),_:1}),r(n,{to:"/playlists",class:"nav-item"},{default:u(()=>[...s[5]||(s[5]=[t("i",{class:"bi bi-collection-play-fill"},null,-1),t("span",null,"Playlist Saya",-1)])]),_:1}),r(n,{to:"/upload",class:"nav-item"},{default:u(()=>[...s[6]||(s[6]=[t("i",{class:"bi bi-cloud-upload-fill"},null,-1),t("span",null,"Upload Lagu",-1)])]),_:1}),r(n,{to:"/history",class:"nav-item"},{default:u(()=>[...s[7]||(s[7]=[t("i",{class:"bi bi-clock-history"},null,-1),t("span",null,"Riwayat & Score",-1)])]),_:1}),r(n,{to:"/request",class:"nav-item"},{default:u(()=>[...s[8]||(s[8]=[t("i",{class:"bi bi-plus-circle-fill"},null,-1),t("span",null,"Request Lagu",-1)])]),_:1}),r(n,{to:"/donation",class:"nav-item active"},{default:u(()=>[...s[9]||(s[9]=[t("i",{class:"bi bi-heart-fill"},null,-1),t("span",null,"Donasi",-1)])]),_:1}),s[11]||(s[11]=t("div",{class:"nav-divider"},null,-1)),r(n,{to:"/settings",class:"nav-item"},{default:u(()=>[...s[10]||(s[10]=[t("i",{class:"bi bi-gear-fill"},null,-1),t("span",null,"Pengaturan",-1)])]),_:1})])]),t("main",X,[t("div",Y,[t("div",Z,[r(n,{to:"/dashboard",class:"brand brand--compact"},{default:u(()=>[...s[12]||(s[12]=[t("i",{class:"bi bi-music-note-beamed"},null,-1),t("span",null,[d("Karaoke"),t("span",{class:"text-gradient"},"Ku")],-1)])]),_:1}),t("div",{class:"mobile-topbar__actions"},[t("button",{class:"icon-btn",type:"button",onClick:v,"aria-label":"Refresh metode donasi"},[...s[13]||(s[13]=[t("i",{class:"bi bi-arrow-clockwise"},null,-1)])]),t("button",{class:"icon-btn",type:"button",onClick:f,"aria-label":"Lihat metode"},[...s[14]||(s[14]=[t("i",{class:"bi bi-credit-card-2-front-fill"},null,-1)])])])]),t("section",ss,[t("div",ts,[s[22]||(s[22]=t("div",{class:"hero__badge"},[t("i",{class:"bi bi-heart-fill"}),t("span",null,"Donasi / Traktir")],-1)),s[23]||(s[23]=t("h1",null,[d("Dukung "),t("span",{class:"text-gradient"},"KaraokeKu"),d(" tetap hidup")],-1)),s[24]||(s[24]=t("p",{class:"hero__sub text-white"}," Donasi kamu membantu biaya server dan pengembangan fitur baru, agar KaraokeKu tetap bisa diakses oleh semua. ",-1)),t("div",as,[t("div",is,[s[15]||(s[15]=t("i",{class:"bi bi-collection"},null,-1)),t("span",null,o(T.value)+" metode",1)]),t("div",ls,[s[16]||(s[16]=t("i",{class:"bi bi-qr-code-scan"},null,-1)),t("span",null,o(y.value.length)+" QRIS",1)]),t("div",es,[s[17]||(s[17]=t("i",{class:"bi bi-wallet2"},null,-1)),t("span",null,o(_.value.length)+" e-wallet",1)]),t("div",ns,[s[18]||(s[18]=t("i",{class:"bi bi-bank2"},null,-1)),t("span",null,o(w.value.length)+" bank",1)]),c.value?(e(),l("div",os,[...s[19]||(s[19]=[t("span",{class:"spinner-border spinner-border-sm","aria-hidden":"true"},null,-1),t("span",null,"Memuatâ€¦",-1)])])):b("",!0),t("button",{class:"btn btn-primary btn-sm",type:"button",onClick:f},[...s[20]||(s[20]=[t("i",{class:"bi bi-arrow-down-circle me-1","aria-hidden":"true"},null,-1),d(" Lihat Metode ",-1)])]),t("button",{class:"btn btn-ghost btn-sm",type:"button",onClick:v,disabled:c.value},[...s[21]||(s[21]=[t("i",{class:"bi bi-arrow-clockwise me-1","aria-hidden":"true"},null,-1),d(" Refresh ",-1)])],8,ds)])]),t("div",rs,[t("div",{class:"hero-card hero-card--primary"},[s[26]||(s[26]=t("div",{class:"hero-card__icon","aria-hidden":"true"},[t("i",{class:"bi bi-hdd-network-fill"})],-1)),s[27]||(s[27]=t("div",{class:"hero-card__title"},"Untuk biaya server",-1)),s[28]||(s[28]=t("div",{class:"hero-card__text"},"Agar streaming tetap lancar dan website selalu online.",-1)),t("button",{class:"btn btn-primary btn-sm hero-card__btn",type:"button",onClick:f},[...s[25]||(s[25]=[t("i",{class:"bi bi-heart-fill"},null,-1),d(" Donasi sekarang ",-1)])])]),t("div",us,[s[30]||(s[30]=t("div",{class:"hero-card__icon","aria-hidden":"true"},[t("i",{class:"bi bi-music-note-list"})],-1)),s[31]||(s[31]=t("div",{class:"hero-card__title"},"Prioritas request",-1)),s[32]||(s[32]=t("div",{class:"hero-card__text"},"Request lagu dengan donasi akan diprioritaskan.",-1)),r(n,{to:"/request",class:"btn btn-ghost btn-sm hero-card__btn"},{default:u(()=>[...s[29]||(s[29]=[t("i",{class:"bi bi-plus-circle-fill"},null,-1),d(" Request lagu ",-1)])]),_:1})])])]),h.value&&!c.value?(e(),l("div",bs,[s[35]||(s[35]=t("div",{class:"alert-icon","aria-hidden":"true"},[t("i",{class:"bi bi-exclamation-triangle-fill"})],-1)),t("div",cs,[s[33]||(s[33]=t("div",{class:"alert-title"},"Gagal memuat metode donasi",-1)),t("div",vs,o(h.value),1)]),t("button",{class:"btn btn-ghost btn-sm",type:"button",onClick:v},[...s[34]||(s[34]=[t("i",{class:"bi bi-arrow-clockwise me-1","aria-hidden":"true"},null,-1),d(" Coba lagi ",-1)])])])):b("",!0),t("section",ps,[t("div",{ref_key:"methodsSectionRef",ref:$,class:"panel methods-panel reveal",style:{"--d":"90ms"}},[t("div",ms,[s[37]||(s[37]=g('<div class="panel-title" data-v-0df2c9b1><div class="panel-icon" aria-hidden="true" data-v-0df2c9b1><i class="bi bi-credit-card-2-front-fill" data-v-0df2c9b1></i></div><div class="panel-title__copy" data-v-0df2c9b1><h2 data-v-0df2c9b1>Metode Donasi</h2><p class="text-white" data-v-0df2c9b1>Pilih metode yang paling nyaman. Klik tombol copy untuk menyalin nomor.</p></div></div>',1)),t("div",fs,[t("span",gs,o(T.value)+" metode",1),t("button",{class:"btn btn-ghost btn-sm",type:"button",onClick:v,disabled:c.value},[...s[36]||(s[36]=[t("i",{class:"bi bi-arrow-clockwise me-1","aria-hidden":"true"},null,-1),d(" Refresh ",-1)])],8,ks)])]),c.value?(e(),l("div",hs,[s[39]||(s[39]=g('<div class="skeleton-card loading-skeleton" data-v-0df2c9b1></div><div class="skeleton-row" data-v-0df2c9b1><div class="skeleton-chip loading-skeleton" data-v-0df2c9b1></div><div class="skeleton-chip loading-skeleton" data-v-0df2c9b1></div><div class="skeleton-chip loading-skeleton" data-v-0df2c9b1></div></div>',2)),t("div",ys,[(e(),l(x,null,q(6,i=>t("div",{key:i,class:"method-item method-item--skeleton"},[...s[38]||(s[38]=[g('<div class="method-icon loading-skeleton" data-v-0df2c9b1></div><div class="method-info" data-v-0df2c9b1><div class="skeleton-line loading-skeleton" data-v-0df2c9b1></div><div class="skeleton-line skeleton-line--sm loading-skeleton" data-v-0df2c9b1></div></div><div class="skeleton-btn loading-skeleton" data-v-0df2c9b1></div>',3)])])),64))])])):(e(),l("div",_s,[y.value.length>0?(e(),l("div",ws,[t("div",Cs,[s[40]||(s[40]=t("h3",null,[t("i",{class:"bi bi-qr-code-scan me-2","aria-hidden":"true"}),d("QRIS")],-1)),t("span",xs,o(y.value.length),1)]),t("div",qs,[(e(!0),l(x,null,q(y.value,i=>(e(),l("div",{key:i.id,class:"qris-card"},[t("div",Ms,[t("div",Rs,[s[41]||(s[41]=t("i",{class:"bi bi-qr-code","aria-hidden":"true"},null,-1)),t("span",null,o(i.name),1)]),s[42]||(s[42]=t("span",{class:"qris-badge"},"Scan",-1))]),t("div",Ss,[i.qr_code_url?(e(),l("div",Ts,[t("img",{src:V(i.qr_code_url),alt:i.name,class:"qris-img",loading:"lazy"},null,8,Ks)])):(e(),l("div",Ds," QR tidak tersedia untuk metode ini. ")),s[43]||(s[43]=t("div",{class:"qris-hint text-muted"}," Scan QR di aplikasi e-wallet / mobile banking. ",-1))])]))),128))])])):b("",!0),_.value.length>0?(e(),l("div",Ps,[t("div",$s,[s[44]||(s[44]=t("h3",null,[t("i",{class:"bi bi-wallet2 me-2","aria-hidden":"true"}),d("E-Wallet")],-1)),t("span",Ls,o(_.value.length),1)]),t("div",Ns,[(e(!0),l(x,null,q(_.value,i=>(e(),l("div",{key:i.id,class:"method-item"},[t("div",{class:M(["method-icon",N(i.name)]),"aria-hidden":"true"},[t("i",{class:M(L(i.icon)||"bi bi-wallet2")},null,2)],2),t("div",Is,[t("div",Bs,o(i.name),1),t("div",Us,o(i.account_number),1),i.account_name?(e(),l("div",Vs,"a.n. "+o(i.account_name),1)):b("",!0)]),t("button",{class:"btn btn-ghost btn-sm btn-icon",type:"button",onClick:D=>I(i.account_number,i.name),"aria-label":`Copy nomor ${i.name}`},[...s[45]||(s[45]=[t("i",{class:"bi bi-copy","aria-hidden":"true"},null,-1)])],8,Ws)]))),128))])])):b("",!0),w.value.length>0?(e(),l("div",Es,[t("div",Fs,[s[46]||(s[46]=t("h3",null,[t("i",{class:"bi bi-bank2 me-2","aria-hidden":"true"}),d("Transfer Bank")],-1)),t("span",js,o(w.value.length),1)]),t("div",As,[(e(!0),l(x,null,q(w.value,i=>(e(),l("div",{key:i.id,class:"method-item"},[t("div",{class:M(["method-icon",N(i.name)]),"aria-hidden":"true"},[i.icon?(e(),l("i",{key:1,class:M(L(i.icon)||"bi bi-bank2")},null,2)):(e(),l("span",Qs,o(W(i.name)),1))],2),t("div",zs,[t("div",Gs,o(i.name),1),t("div",Hs,o(i.account_number),1),i.account_name?(e(),l("div",Js,"a.n. "+o(i.account_name),1)):b("",!0)]),t("button",{class:"btn btn-ghost btn-sm btn-icon",type:"button",onClick:D=>I(i.account_number,i.name),"aria-label":`Copy nomor ${i.name}`},[...s[47]||(s[47]=[t("i",{class:"bi bi-copy","aria-hidden":"true"},null,-1)])],8,Os)]))),128))])])):b("",!0),T.value===0?(e(),l("div",Xs,[s[49]||(s[49]=t("div",{class:"empty-icon","aria-hidden":"true"},[t("i",{class:"bi bi-emoji-frown"})],-1)),s[50]||(s[50]=t("h3",null,"Metode donasi belum tersedia",-1)),s[51]||(s[51]=t("p",{class:"text-muted"},"Silakan coba lagi nanti.",-1)),t("button",{class:"btn btn-primary btn-sm",type:"button",onClick:v},[...s[48]||(s[48]=[t("i",{class:"bi bi-arrow-clockwise me-1","aria-hidden":"true"},null,-1),d(" Refresh ",-1)])])])):b("",!0)]))],512),t("aside",Ys,[t("div",Zs,[s[54]||(s[54]=g('<div class="panel-header panel-header--compact" data-v-0df2c9b1><div class="panel-title" data-v-0df2c9b1><div class="panel-icon panel-icon--soft" aria-hidden="true" data-v-0df2c9b1><i class="bi bi-lightbulb-fill" data-v-0df2c9b1></i></div><div class="panel-title__copy" data-v-0df2c9b1><h2 data-v-0df2c9b1>Kenapa donasi?</h2><p class="text-white" data-v-0df2c9b1>Donasi kamu berdampak langsung.</p></div></div></div><ul class="tips-list ms-3" data-v-0df2c9b1><li data-v-0df2c9b1><strong data-v-0df2c9b1>Biaya server</strong> untuk streaming dan penyimpanan.</li><li data-v-0df2c9b1><strong data-v-0df2c9b1>Pengembangan</strong> fitur baru dan perbaikan bug.</li><li data-v-0df2c9b1><strong data-v-0df2c9b1>Prioritas request</strong> untuk lagu-lagu yang kamu minta.</li></ul>',2)),t("div",st,[r(n,{to:"/request",class:"btn btn-ghost btn-sm"},{default:u(()=>[...s[52]||(s[52]=[t("i",{class:"bi bi-plus-circle-fill me-1","aria-hidden":"true"},null,-1),d(" Request lagu ",-1)])]),_:1}),t("button",{class:"btn btn-primary btn-sm",type:"button",onClick:f},[...s[53]||(s[53]=[t("i",{class:"bi bi-heart-fill me-1","aria-hidden":"true"},null,-1),d(" Donasi ",-1)])])])]),t("div",{class:"panel thanks-panel reveal",style:{"--d":"150ms"}},[t("div",{class:"thanks-card"},[s[56]||(s[56]=t("div",{class:"thanks-icon","aria-hidden":"true"},[t("i",{class:"bi bi-emoji-heart-eyes"})],-1)),s[57]||(s[57]=t("h2",null,"Terima kasih!",-1)),s[58]||(s[58]=t("p",{class:"text-muted"}," Setiap donasi kamu sangat berarti untuk menjaga KaraokeKu tetap berjalan dan terus berkembang. ",-1)),t("button",{class:"btn btn-primary btn-sm",type:"button",onClick:f},[...s[55]||(s[55]=[t("i",{class:"bi bi-heart-fill me-1","aria-hidden":"true"},null,-1),d(" Pilih metode ",-1)])])])])])])])]),r(A,{name:"dp-toast"},{default:u(()=>[R.value?(e(),l("div",tt,[s[59]||(s[59]=t("i",{class:"bi bi-check-circle-fill","aria-hidden":"true"},null,-1)),t("span",null,o(P.value),1)])):b("",!0)]),_:1}),r(z)])}}},nt=E(at,[["__scopeId","data-v-0df2c9b1"]]);export{nt as default};
