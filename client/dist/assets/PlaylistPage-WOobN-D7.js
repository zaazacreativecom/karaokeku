import{_ as q,r as o,o as R,c as u,a as l,g as D,b as a,w as e,d as k,e as U,F as E,i as H,t as y,v as w,x as M,y as S,j as T,k as d}from"./index-DY9xsVSO.js";import{u as j}from"./playlist-DeqAx3Ty.js";import{M as z}from"./MobileNav-B55vU6H0.js";const A={class:"page-layout"},I={class:"dashboard-sidebar"},G={class:"sidebar-header"},J={class:"sidebar-nav"},O={class:"page-main"},Q={class:"page-content"},W={class:"page-header"},X={key:0,class:"loading-state"},Y={key:1,class:"empty-state"},Z={key:2,class:"playlists-grid"},h={class:"playlist-info"},ll={class:"playlist-actions"},sl=["onClick"],tl=["onClick"],al=["onClick"],il={class:"modal-content"},el={class:"modal-header"},nl={class:"modal-body"},ol={class:"mb-3"},ul={class:"mb-3"},dl={class:"modal-footer"},rl=["disabled"],vl={class:"modal-content modal-sm"},bl={class:"modal-body text-center"},ml={class:"text-muted"},pl={class:"modal-footer"},cl={__name:"PlaylistPage",setup(yl){const $=T(),v=j(),P=o([]),C=o(!0),b=o(!1),m=o(!1),p=o(null),c=o(null),f=o(!1),n=o({name:"",description:""}),x=async()=>{C.value=!0,await v.fetchPlaylists(),P.value=v.playlists,C.value=!1},L=r=>{$.push("/karaoke")},N=r=>{p.value=r,n.value={name:r.name,description:r.description||""},b.value=!0},g=()=>{b.value=!1,p.value=null,n.value={name:"",description:""}},V=async()=>{f.value=!0,p.value?await v.updatePlaylist(p.value.id,n.value):await v.createPlaylist(n.value),await x(),g(),f.value=!1},F=r=>{c.value=r,m.value=!0},K=async()=>{c.value&&(await v.deletePlaylist(c.value.id),await x()),m.value=!1,c.value=null};return R(x),(r,s)=>{var _;const i=U("router-link");return d(),u("div",A,[l("aside",I,[l("div",G,[a(i,{to:"/dashboard",class:"brand"},{default:e(()=>[...s[6]||(s[6]=[l("i",{class:"bi bi-music-note-beamed"},null,-1),l("span",null,[k("Karaoke"),l("span",{class:"text-gradient"},"Ku")],-1)])]),_:1})]),l("nav",J,[a(i,{to:"/dashboard",class:"nav-item"},{default:e(()=>[...s[7]||(s[7]=[l("i",{class:"bi bi-grid-1x2-fill"},null,-1),l("span",null,"Dashboard",-1)])]),_:1}),a(i,{to:"/karaoke",class:"nav-item"},{default:e(()=>[...s[8]||(s[8]=[l("i",{class:"bi bi-mic-fill"},null,-1),l("span",null,"Karaoke",-1)])]),_:1}),a(i,{to:"/songs",class:"nav-item"},{default:e(()=>[...s[9]||(s[9]=[l("i",{class:"bi bi-music-note-list"},null,-1),l("span",null,"Pilih Lagu",-1)])]),_:1}),a(i,{to:"/favorites",class:"nav-item"},{default:e(()=>[...s[10]||(s[10]=[l("i",{class:"bi bi-heart-fill"},null,-1),l("span",null,"Lagu Favorit",-1)])]),_:1}),a(i,{to:"/playlists",class:"nav-item active"},{default:e(()=>[...s[11]||(s[11]=[l("i",{class:"bi bi-collection-play-fill"},null,-1),l("span",null,"Playlist Saya",-1)])]),_:1}),a(i,{to:"/upload",class:"nav-item"},{default:e(()=>[...s[12]||(s[12]=[l("i",{class:"bi bi-cloud-upload-fill"},null,-1),l("span",null,"Upload Lagu",-1)])]),_:1}),a(i,{to:"/history",class:"nav-item"},{default:e(()=>[...s[13]||(s[13]=[l("i",{class:"bi bi-clock-history"},null,-1),l("span",null,"Riwayat & Score",-1)])]),_:1}),a(i,{to:"/request",class:"nav-item"},{default:e(()=>[...s[14]||(s[14]=[l("i",{class:"bi bi-plus-circle-fill"},null,-1),l("span",null,"Request Lagu",-1)])]),_:1}),a(i,{to:"/donation",class:"nav-item"},{default:e(()=>[...s[15]||(s[15]=[l("i",{class:"bi bi-heart-fill"},null,-1),l("span",null,"Donasi",-1)])]),_:1}),s[17]||(s[17]=l("div",{class:"nav-divider"},null,-1)),a(i,{to:"/settings",class:"nav-item"},{default:e(()=>[...s[16]||(s[16]=[l("i",{class:"bi bi-gear-fill"},null,-1),l("span",null,"Pengaturan",-1)])]),_:1})])]),l("main",O,[l("div",Q,[l("div",W,[s[19]||(s[19]=l("div",null,[l("h1",null,[l("i",{class:"bi bi-collection-play-fill me-2"}),k("Playlist Saya")]),l("p",{class:"text-muted"},"Kelola playlist karaoke Anda")],-1)),l("button",{class:"btn btn-primary",onClick:s[0]||(s[0]=t=>b.value=!0)},[...s[18]||(s[18]=[l("i",{class:"bi bi-plus-lg me-2"},null,-1),k("Buat Playlist ",-1)])])]),C.value?(d(),u("div",X,[...s[20]||(s[20]=[l("div",{class:"spinner-border text-primary"},null,-1)])])):P.value.length===0?(d(),u("div",Y,[s[21]||(s[21]=l("i",{class:"bi bi-collection-play"},null,-1)),s[22]||(s[22]=l("p",null,"Belum ada playlist",-1)),l("button",{class:"btn btn-primary",onClick:s[1]||(s[1]=t=>b.value=!0)},"Buat Playlist Pertama")])):(d(),u("div",Z,[(d(!0),u(E,null,H(P.value,t=>(d(),u("div",{key:t.id,class:"playlist-card"},[s[26]||(s[26]=l("div",{class:"playlist-cover"},[l("i",{class:"bi bi-music-note-list"})],-1)),l("div",h,[l("h4",null,y(t.name),1),l("p",null,y(t.songCount||0)+" lagu",1)]),l("div",ll,[l("button",{class:"btn btn-primary btn-sm",onClick:B=>L()},[...s[23]||(s[23]=[l("i",{class:"bi bi-play-fill"},null,-1),k(" Play ",-1)])],8,sl),l("button",{class:"btn btn-ghost btn-sm",onClick:B=>N(t)},[...s[24]||(s[24]=[l("i",{class:"bi bi-pencil"},null,-1)])],8,tl),l("button",{class:"btn btn-ghost btn-sm text-danger",onClick:B=>F(t)},[...s[25]||(s[25]=[l("i",{class:"bi bi-trash"},null,-1)])],8,al)])]))),128))]))])]),b.value?(d(),u("div",{key:0,class:"modal-overlay",onClick:w(g,["self"])},[l("div",il,[l("div",el,[l("h3",null,y(p.value?"Edit Playlist":"Buat Playlist Baru"),1),l("button",{onClick:g},[...s[27]||(s[27]=[l("i",{class:"bi bi-x-lg"},null,-1)])])]),l("form",{onSubmit:w(V,["prevent"])},[l("div",nl,[l("div",ol,[s[28]||(s[28]=l("label",{class:"form-label"},"Nama Playlist",-1)),M(l("input",{type:"text",class:"form-control","onUpdate:modelValue":s[2]||(s[2]=t=>n.value.name=t),required:"",placeholder:"Contoh: Lagu Favorit"},null,512),[[S,n.value.name]])]),l("div",ul,[s[29]||(s[29]=l("label",{class:"form-label"},"Deskripsi (opsional)",-1)),M(l("textarea",{class:"form-control","onUpdate:modelValue":s[3]||(s[3]=t=>n.value.description=t),rows:"3",placeholder:"Deskripsi playlist..."},null,512),[[S,n.value.description]])])]),l("div",dl,[l("button",{type:"button",class:"btn btn-ghost",onClick:g},"Batal"),l("button",{type:"submit",class:"btn btn-primary",disabled:f.value},y(f.value?"Menyimpan...":"Simpan"),9,rl)])],32)])])):D("",!0),m.value?(d(),u("div",{key:1,class:"modal-overlay",onClick:s[5]||(s[5]=w(t=>m.value=!1,["self"]))},[l("div",vl,[l("div",bl,[s[30]||(s[30]=l("i",{class:"bi bi-exclamation-triangle text-warning",style:{"font-size":"3rem"}},null,-1)),s[31]||(s[31]=l("h4",{class:"mt-3"},"Hapus Playlist?",-1)),l("p",ml,'Playlist "'+y((_=c.value)==null?void 0:_.name)+'" akan dihapus permanen.',1)]),l("div",pl,[l("button",{class:"btn btn-ghost",onClick:s[4]||(s[4]=t=>m.value=!1)},"Batal"),l("button",{class:"btn btn-danger",onClick:K},"Hapus")])])])):D("",!0),a(z)])}}},Pl=q(cl,[["__scopeId","data-v-0801a322"]]);export{Pl as default};
