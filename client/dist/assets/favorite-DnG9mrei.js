import{x as v,r as l,c as f,R as c}from"./index-Btw_uZyE.js";const h=v("favorite",()=>{const a=l(new Set),o=l([]),s=l(!1),i=f(()=>e=>a.value.has(e));return{favoriteIds:a,favorites:o,loading:s,isFavorite:i,fetchFavoriteIds:async()=>{try{const e=await c.getIds();e.data.success&&(a.value=new Set(e.data.data))}catch(e){console.error("Failed to fetch favorite IDs:",e)}},toggleFavorite:async e=>{const t=a.value.has(e);t?a.value.delete(e):a.value.add(e);try{const r=await c.toggle(e);return r.data.data.isFavorite?a.value.add(e):a.value.delete(e),r.data.success}catch(r){return t?a.value.add(e):a.value.delete(e),console.error("Failed to toggle favorite:",r),!1}},fetchFavorites:async(e={})=>{s.value=!0;try{const t=await c.getAll(e);return o.value=t.data.data||[],o.value.forEach(r=>a.value.add(r.id)),t.data}catch(t){console.error("Failed to fetch favorites:",t)}finally{s.value=!1}}}});export{h as u};
